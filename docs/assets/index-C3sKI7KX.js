(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function e(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(s){if(s.ep)return;s.ep=!0;const n=e(s);fetch(s.href,n)}})();const T=JSON.parse(`[{"id":1,"model":"PLAYTECH ST250","price":7800,"specs":{"appeal":5,"weight":5},"skill":{"type":"poverty","val1":0.8,"val2":0.7},"durability":{"max_life":50,"decay_rate":1.8,"desc":"やすすぎて　わらいが　でる。　フレットが　やすり　みたいだ。\\n\\n【貧乏くじ】獲得金0.8倍 / 耐久消費0.7倍\\n「びんぼう　が　とりついてる。　かねは　へるが　なぜか　ながもち　する。」"}},{"id":2,"model":"SELDER","price":9800,"specs":{"appeal":6,"weight":6},"skill":{"type":"gamble","prob":0.05,"mult":3},"durability":{"max_life":55,"decay_rate":1.6,"desc":"セットで　いちまんえん。　チューニングは　３びょう　で　くるうぞ。\\n\\n【ビギナーズラック】5%で獲得金3倍\\n「たまに　まぐれ　あたり　が　ある。　だから　やめられない。」"}},{"id":3,"model":"BUSKER'S","price":12000,"specs":{"appeal":7,"weight":4},"skill":{"type":"none"},"durability":{"max_life":60,"decay_rate":1.5,"desc":"しまむら　がっきの　におい。　ペグを　まわすと　きしむ。\\n\\n【特になし】\\n「とくちょう　が　ないのが　とくちょう　だ。」"}},{"id":4,"model":"Photogenic","price":11000,"specs":{"appeal":8,"weight":5},"skill":{"type":"appeal_up","val":5},"durability":{"max_life":60,"decay_rate":1.5,"desc":"しゃしん　うつり　だけは　いい。\\n\\n【フォトジェニック】基礎Appeal+5\\n「ミタメ　だけは　いい。　すこし　だけ　ハクが　つく。」"}},{"id":5,"model":"Legend","price":13000,"specs":{"appeal":8,"weight":5},"skill":{"type":"gamble","prob":0.1,"mult":2},"durability":{"max_life":65,"decay_rate":1.4,"desc":"でんせつ　という　なまえ　が　なげいている。\\n\\n【運がいい】10%で獲得金2倍\\n「なまえ　まけ　してない。　たまに　きせき　が　おきる。」"}},{"id":6,"model":"Mavis","price":14000,"specs":{"appeal":10,"weight":5},"skill":{"type":"durability_save","val":0.9},"durability":{"max_life":70,"decay_rate":1.3,"desc":"イシバシの　あんか　ブランド。\\n\\n【石橋を叩く】耐久消費0.9倍\\n「じょうぶ　な　こと　だけ　が　じまん　だ。」"}},{"id":7,"model":"Squier Bullet","price":25000,"specs":{"appeal":12,"weight":5},"skill":{"type":"brand_name","val":1.1},"durability":{"max_life":75,"decay_rate":1.2,"desc":"くさっても　フェンダー　けいれつ。\\n\\n【ブランドの威光】獲得金1.1倍\\n「ロゴ　が　あるだけで　きゃく　が　よろこぶ。　ちょろい。」"}},{"id":8,"model":"Aria Pro II","price":28000,"specs":{"appeal":15,"weight":6},"skill":{"type":"none"},"durability":{"max_life":80,"decay_rate":1.1,"desc":"にほんの　きじゅん。　じみに　おもい。\\n\\n【実直】効果なし\\n「まじめ　すぎて　おもしろく　ない。」"}},{"id":9,"model":"Cort","price":30000,"specs":{"appeal":18,"weight":6},"skill":{"type":"durability_save","val":0.8},"durability":{"max_life":85,"decay_rate":1.1,"desc":"ＯＥＭ　こうじょう　の　じつりょく。\\n\\n【下請けの魂】耐久消費0.8倍\\n「こき　つかわれる　のには　なれている。」"}},{"id":10,"model":"Epiphone Special II","price":22000,"specs":{"appeal":20,"weight":7},"skill":{"type":"stage_bonus","min":1,"max":10,"mult":1.5},"durability":{"max_life":80,"decay_rate":1.2,"desc":"ギブソン　への　あこがれ。\\n\\n【ブルース入門】Lv1-10で金1.5倍\\n「しょしんしゃ　どうし　きが　あう　みたいだ。」"}},{"id":11,"model":"Greco (Bolt-on)","price":35000,"specs":{"appeal":25,"weight":7},"skill":{"type":"vintage_rot","mult":1.2,"decay":1.5},"durability":{"max_life":60,"decay_rate":1.5,"desc":"サビが　ゆびに　うつる。\\n\\n【古い音】金1.2倍 / 耐久消費1.5倍\\n「ボロい　ほうが　あじが　あると　かんちがい　される。」"}},{"id":12,"model":"GrassRoots","price":45000,"specs":{"appeal":22,"weight":8},"skill":{"type":"appeal_up","val":10},"durability":{"max_life":90,"decay_rate":1,"desc":"ヴィジュアルけい　キッズの　えじき。\\n\\n【厚化粧】基礎Appeal+10\\n「ハデ　な　みた目　で　ごまかしている。」"}},{"id":13,"model":"Fernandes (LE)","price":40000,"specs":{"appeal":25,"weight":6},"skill":{"type":"durability_save","val":0.8},"durability":{"max_life":90,"decay_rate":1,"desc":"こしょう　しらずの　ゆうとうせい。\\n\\n【頑丈】耐久消費0.8倍\\n「こいつ　だけは　うらぎらない。」"}},{"id":14,"model":"Tokai (Modern)","price":55000,"specs":{"appeal":30,"weight":7},"skill":{"type":"stage_bonus","min":11,"max":20,"mult":1.3},"durability":{"max_life":100,"decay_rate":0.9,"desc":"かんりは　いい。　ここから　せかいが　かわる。\\n\\n【歌謡曲対応】Lv11-20で金1.3倍\\n「ポップス　には　これくらい　が　ちょうどいい。」"}},{"id":15,"model":"Yamaha Pacifica","price":32000,"specs":{"appeal":35,"weight":5},"skill":{"type":"durability_save","val":0.7},"durability":{"max_life":110,"decay_rate":0.8,"desc":"げんが　まったく　きれない　きせき。\\n\\n【優等生】耐久消費0.7倍\\n「アニメ　の　おかげで　にんき　が　すごい。」"}},{"id":16,"model":"Burny","price":48000,"specs":{"appeal":30,"weight":8},"skill":{"type":"gamble","prob":0.15,"mult":1.5},"durability":{"max_life":90,"decay_rate":1.1,"desc":"レスポール　もどき。\\n\\n【ハッタリ】15%で獲得金1.5倍\\n「とく　に　ひっさつわざ　は　ない。」"}},{"id":17,"model":"Charvel (Budget)","price":50000,"specs":{"appeal":32,"weight":6},"skill":{"type":"stage_bonus","min":41,"max":50,"mult":1.2},"durability":{"max_life":95,"decay_rate":1.2,"desc":"８０ねんだい　の　におい。\\n\\n【速弾き入門】Lv41-50で金1.2倍\\n「メタル　を　やるなら　もってこい　だ。」"}},{"id":18,"model":"Greco EG (Mid)","price":60000,"specs":{"appeal":38,"weight":9},"skill":{"type":"heavy_weight","mult":1.3,"decay":1.2},"durability":{"max_life":85,"decay_rate":1,"desc":"おもい。　かたが　こる。\\n\\n【重量級】金1.3倍 / 耐久消費1.2倍\\n「おもい　ギター　は　いい　おと　が　する　（めいしん）。」"}},{"id":19,"model":"Edwards","price":85000,"specs":{"appeal":40,"weight":8},"skill":{"type":"appeal_up","val":15},"durability":{"max_life":100,"decay_rate":1,"desc":"こくさん　パーツの　あんしんかん。\\n\\n【ダンカン搭載】基礎Appeal+15\\n「マイク　だけは　いちりゅう　だ。」"}},{"id":20,"model":"Fernandes Function","price":30000,"specs":{"appeal":35,"weight":6},"skill":{"type":"poverty","val1":1,"val2":0.8},"durability":{"max_life":80,"decay_rate":1.3,"desc":"リサイクル　ショップの　じょうれん。\\n\\n【中古の味】耐久消費0.8倍\\n「ボロい　わりには　よく　はたらく。」"}},{"id":21,"model":"FGN (Fujigen)","price":90000,"specs":{"appeal":50,"weight":6},"skill":{"type":"tech_bonus","mult":1.2},"durability":{"max_life":120,"decay_rate":0.8,"desc":"ピッチが　よすぎる。\\n\\n【CFS技術】常時金1.2倍\\n「おんち　が　なおる　まほう　の　ギター　だ。」"}},{"id":22,"model":"Bacchus (Global)","price":70000,"specs":{"appeal":45,"weight":6},"skill":{"type":"durability_save","val":0.75},"durability":{"max_life":110,"decay_rate":0.9,"desc":"フィリピンの　しょくにん魂。\\n\\n【ハンドメイド】耐久消費0.75倍\\n「てづくり　の　ぬくもり　で　げん　が　きれにくい。」"}},{"id":23,"model":"Kramer","price":65000,"specs":{"appeal":48,"weight":7},"skill":{"type":"stage_bonus","min":41,"max":49,"mult":1.5},"durability":{"max_life":90,"decay_rate":1.4,"desc":"ロックしき　トレモロ。\\n\\n【爆撃機】Lv41-49で金1.5倍\\n「アーム　ダウン　で　ばくおん　を　だせ。」"}},{"id":24,"model":"Gibson (Studio)","price":120000,"specs":{"appeal":60,"weight":9},"skill":{"type":"brand_name","val":1.2},"durability":{"max_life":100,"decay_rate":1.1,"desc":"そうしょく　を　はぶいた　れんかばん。\\n\\n【腐っても鯛】獲得金1.2倍\\n「やすくても　ギブソン　は　ギブソン　だ。」"}},{"id":25,"model":"Tokai Love Rock","price":180000,"specs":{"appeal":65,"weight":8},"skill":{"type":"vintage_bonus","mult":1.3},"durability":{"max_life":105,"decay_rate":0.9,"desc":"ジャパン　ビンテージの　きょとう。\\n\\n【和製魂】常時金1.3倍\\n「ほんけ　より　いい　おと　が　する　（かくしん）。」"}},{"id":26,"model":"Greco Super Real","price":150000,"specs":{"appeal":68,"weight":9},"skill":{"type":"vintage_bonus","mult":1.3},"durability":{"max_life":95,"decay_rate":1,"desc":"かんぜん　コピー　じだい。\\n\\n【超リアル】常時金1.3倍\\n「コピー　も　きわめれば　げいじゅつ　だ。」"}},{"id":27,"model":"Fender Japan (JV)","price":200000,"specs":{"appeal":70,"weight":6},"skill":{"type":"tech_bonus","mult":1.4},"durability":{"max_life":110,"decay_rate":0.9,"desc":"でんせつの　ＪＶシリアル。\\n\\n【神の組込】常時金1.4倍\\n「ねだん　が　あがりすぎて　ひくのが　こわい。」"}},{"id":28,"model":"Music Man Silhouette","price":230000,"specs":{"appeal":72,"weight":5},"skill":{"type":"durability_save","val":0.6},"durability":{"max_life":130,"decay_rate":0.7,"desc":"コンパクト　で　むり　が　かからない。\\n\\n【人間工学】耐久消費0.6倍\\n「からだ　に　フィット　するから　つかれない。」"}},{"id":29,"model":"PRS (SE)","price":80000,"specs":{"appeal":55,"weight":6},"skill":{"type":"brand_name","val":1.15},"durability":{"max_life":115,"decay_rate":0.9,"desc":"がくせいの　あこがれ。\\n\\n【鳥の加護】獲得金1.15倍\\n「とり　の　マーク　が　かっこいい　だろ。」"}},{"id":30,"model":"Yamaha SG-1000","price":160000,"specs":{"appeal":75,"weight":10},"skill":{"type":"heavy_weight","mult":1.5,"decay":1.3},"durability":{"max_life":120,"decay_rate":0.8,"desc":"がんじょう　すぎて　げん　が　まける。\\n\\n【日本の侍】金1.5倍 / 耐久消費1.3倍\\n「おもすぎて　かた　が　はずれる　かとおもった。」"}},{"id":31,"model":"Steinberger L-2","price":500000,"specs":{"appeal":78,"weight":3},"skill":{"type":"durability_save","val":0.5},"durability":{"max_life":150,"decay_rate":0.5,"desc":"ダブルボールエンド。\\n\\n【絶対切れない】耐久消費0.5倍\\n「べんとうばこ　でも　おと　は　さいきょう　だ。」"}},{"id":32,"model":"Parker Fly","price":350000,"specs":{"appeal":80,"weight":1},"skill":{"type":"tech_bonus","mult":1.3},"durability":{"max_life":140,"decay_rate":0.6,"desc":"うすい。　かるい。　きもちわるい。\\n\\n【宇宙テクノロジー】常時金1.3倍\\n「カーボン　の　ちから　って　すげー。」"}},{"id":33,"model":"Rickenbacker 330","price":280000,"specs":{"appeal":76,"weight":5},"skill":{"type":"stage_bonus","min":11,"max":20,"mult":1.6},"durability":{"max_life":90,"decay_rate":1.2,"desc":"とそうが　ベタつく。\\n\\n【モッズ魂】Lv11-20で金1.6倍\\n「UKロック　を　やるなら　これしか　ない。」"}},{"id":34,"model":"Gretsch 6120","price":380000,"specs":{"appeal":82,"weight":7},"skill":{"type":"gamble","prob":0.2,"mult":2},"durability":{"max_life":85,"decay_rate":1.5,"desc":"ビグスビー　で　チューニング　が　あばれる。\\n\\n【ギャンブラー】20%で獲得金2倍\\n「ダイス　の　ノブ　が　うんめい　を　きめる。」"}},{"id":35,"model":"Teisco Spectrum 5","price":400000,"specs":{"appeal":60,"weight":6},"skill":{"type":"appeal_up","val":30},"durability":{"max_life":60,"decay_rate":2,"desc":"スイッチが　おおすぎる。\\n\\n【変態紳士】基礎Appeal+30\\n「スイッチ　を　カチカチ　する　だけで　たのしい。」"}},{"id":36,"model":"Mosrite","price":450000,"specs":{"appeal":70,"weight":5},"skill":{"type":"speed_bonus","min_bpm":150,"mult":1.4},"durability":{"max_life":80,"decay_rate":1.3,"desc":"フレットが　ひくい。\\n\\n【テケテケ】BPM150以上で金1.4倍\\n「サーフィン　したく　なってくる。」"}},{"id":37,"model":"Guild D-55","price":420000,"specs":{"appeal":75,"weight":6},"skill":{"type":"durability_save","val":0.9},"durability":{"max_life":100,"decay_rate":1,"desc":"おとこらしい　おとが　する。\\n\\n【質実剛健】耐久消費0.9倍\\n「かざりっけ　は　ないが　いい　ヤツ　だ。」"}},{"id":38,"model":"Fender 1968 Strat","price":3500000,"specs":{"appeal":88,"weight":6},"skill":{"type":"speed_bonus","min_bpm":160,"mult":2},"durability":{"max_life":90,"decay_rate":1.1,"desc":"ジミヘン　きどり。\\n\\n【ジミヘン効果】BPM160以上で金2倍\\n「はやい　きょく　で　もやすと　もうかる。」"}},{"id":39,"model":"Gibson ES-335","price":450000,"specs":{"appeal":85,"weight":8},"skill":{"type":"stage_bonus","min":21,"max":30,"mult":1.8},"durability":{"max_life":100,"decay_rate":1,"desc":"やわらかい　テンション。\\n\\n【ジャズマスター】Lv21-30で金1.8倍\\n「ジャズ　の　じかん　だ。　オシャレに　きめろ。」"}},{"id":40,"model":"Ibanez JEM777","price":500000,"specs":{"appeal":84,"weight":7},"skill":{"type":"tech_bonus","mult":1.4},"durability":{"max_life":110,"decay_rate":1.5,"desc":"とってが　ついてる。\\n\\n【超絶技巧】常時金1.4倍\\n「ひかりの　はやさ　で　ゆび　を　うごかせ。」"}},{"id":41,"model":"Tom Anderson","price":600000,"specs":{"appeal":90,"weight":6},"skill":{"type":"durability_save","val":0.6},"durability":{"max_life":140,"decay_rate":0.6,"desc":"せかい　いち　せみつ。\\n\\n【精密機械】耐久消費0.6倍\\n「ロボット　みたいに　せいかく　な　おと　だ。」"}},{"id":42,"model":"Suhr","price":650000,"specs":{"appeal":92,"weight":6},"skill":{"type":"durability_save","val":0.6},"durability":{"max_life":145,"decay_rate":0.5,"desc":"どこにも　ひっかかり　が　ない。\\n\\n【ハイエンド】耐久消費0.6倍\\n「うまくなった　さっかく　を　おこす。」"}},{"id":43,"model":"James Tyler","price":900000,"specs":{"appeal":91,"weight":7},"skill":{"type":"tech_bonus","mult":1.5},"durability":{"max_life":135,"decay_rate":0.7,"desc":"ロゴが　サイケ　すぎる。\\n\\n【スタジオの覇者】常時金1.5倍\\n「どんな　ジャンル　でも　これ　いっぽん。」"}},{"id":44,"model":"Zemaitis (Metal)","price":1200000,"specs":{"appeal":93,"weight":9},"skill":{"type":"durability_save","val":0.5},"durability":{"max_life":120,"decay_rate":0.8,"desc":"きんぞく　パーツ　の　かたまり。\\n\\n【鉄壁】耐久消費0.5倍\\n「てっぱん　ボディ。　ぜんぜん　げん　が　へらない。」"}},{"id":45,"model":"Greco Mirage","price":200000,"specs":{"appeal":80,"weight":8},"skill":{"type":"stage_bonus","min":31,"max":40,"mult":1.5},"durability":{"max_life":90,"decay_rate":1.2,"desc":"アイスマン　じゃ　ないぞ。\\n\\n【ミラージュ】Lv31-40で金1.5倍\\n「アメリカ　で　うけそうな　かたち　だ。」"}},{"id":46,"model":"Veleno (Aluminum)","price":3000000,"specs":{"appeal":85,"weight":8},"skill":{"type":"durability_save","val":0.4},"durability":{"max_life":150,"decay_rate":0.4,"desc":"ネック　が　きんぞく。\\n\\n【アルミネック】耐久消費0.4倍\\n「えいえん　に　サステイン　が　つづく。」"}},{"id":47,"model":"D'Aquisto","price":4000000,"specs":{"appeal":98,"weight":6},"skill":{"type":"stage_bonus","min":21,"max":30,"mult":2},"durability":{"max_life":130,"decay_rate":0.3,"desc":"ジャズ　の　きょしょう。\\n\\n【ジャズの巨匠】Lv21-30で金2倍\\n「おそれおおくて　ふるえが　とまらない。」"}},{"id":48,"model":"Fender 1954 Strat","price":10000000,"specs":{"appeal":99,"weight":5},"skill":{"type":"vintage_bonus","mult":2.5},"durability":{"max_life":80,"decay_rate":1.2,"desc":"しょねんど　の　ストラト。\\n\\n【伝説の始まり】常時金2.5倍\\n「はくぶつかん　に　ある　レベル　の　シロモノ　だ。」"}},{"id":49,"model":"D'Angelico NY","price":15000000,"specs":{"appeal":100,"weight":7},"skill":{"type":"appeal_up","val":100},"durability":{"max_life":120,"decay_rate":0.5,"desc":"フルアコ　の　ちょうてん。\\n\\n【芸術品】基礎Appeal+100\\n「もはや　がっき　というより　びじゅつひん　だ。」"}},{"id":50,"model":"The Greeny","price":500000000,"specs":{"appeal":100,"weight":9},"skill":{"type":"legend_bonus","mult":5},"durability":{"max_life":200,"decay_rate":0.2,"desc":"５おくえん。　さわったら　たいほ　される。\\n\\n【聖杯】常時金5倍\\n「ひく　だけで　おかね　が　ふってくる。」"}}]`),S={master_guitar_list:T},C={conversations:[{id:1,target_id:1,text:"……ふん。　かね　が　ないなら　これでも　もっていきな。　おと　は　でるぞ。　たぶんな。"},{id:2,target_id:2,text:"げんこう　が　きになるか？　こまかい　こと　を　いうな。　おとこ　なら　チカラ　で　ねじふせろ。"},{id:3,target_id:3,text:"ろじうら　で　ひくには　じゅうぶん　だろ。　こわれたら　また　かいに　きな。"},{id:4,target_id:4,text:"みため　だけは　いっちょまえ　だ。　しゃしん　うつり　は　いいぞ。　……それいじょう　は　きくな。"},{id:5,target_id:5,text:"でんせつ……　カッカッカ！　やすい　でんせつ　だな。　だが　はじまり　は　そんなもんだ。"},{id:6,target_id:6,text:"それは　おまえ　しだい　だ。　タマシイ　なんざ　あとから　ついてくる。"},{id:7,target_id:7,text:"ちすじ　は　いいぞ。　あとは　おまえが　ほんけ　を　こえられるか、　だな。"},{id:8,target_id:8,text:"もんく　を　いうように　なったか。　……ふふ、　すこしは　みみ　が　こえてきた　ようだな。"},{id:9,target_id:9,text:"じつよう　ほんい。　いい　め　の　つけドコロ　だ。　かざり　なんて　ジャマ　な　だけだろ？"},{id:10,target_id:10,text:"ニセモノ　と　すねる　まえに、　ホンモノ　の　おと　を　だして　みせろ。"},{id:11,target_id:11,text:"ジャンク　か？　いや、　おまえ　なら　なおせる　だろ。　やすい　もんだ。"},{id:12,target_id:12,text:"ハデ　なのが　すきか。　わかい　うちは　それでいい。　めだって　ナンボ　だ。"},{id:13,target_id:13,text:"……きづいたか。　こいつは　アタリ　だ。　たまに　こういうのが　まぎれこむから　おもしろい。"},{id:14,target_id:14,text:"マジメ　な　ヤツ　だろ。　おまえ　と　どっちが　かたい　アタマ　してるか、　くらべて　みな。"},{id:15,target_id:15,text:"にほん　の　ゆうとうせい　だ。　だれにでも　あわせられる。　……おまえ　に　たりない　モノ　だな。"},{id:16,target_id:16,text:"とんがってるな。　……いい　め　を　している。　もっていけ。"},{id:17,target_id:17,text:"こいつは　あし　が　はやいぞ。　ふりおとされるなよ？"},{id:18,target_id:18,text:"おっ、　わかるか？　その　じだい　の　き　は　もう　て　に　はいらねぇんだ。"},{id:19,target_id:19,text:"ちから　まかせ　に　ひっぱたけ。　こいつは　それ　に　こたえて　くれる。"},{id:20,target_id:20,text:"ボロボロ　だろ。　……だが、　まえ　の　もちぬし　は　いい　ユメ　を　みた　はずだ。"},{id:21,target_id:21,text:"せいみつ　きかい　みたい　だろ？　くるい　の　ない　せかい　を　あじわって　みな。"},{id:22,target_id:22,text:"いい　しょくにん　が　つくってる。　ねだん　じゃねえんだよ、　だいじな　のは。"},{id:23,target_id:23,text:"ヘアスプレー　の　におい　が　しみついて　いやがる。　……あのころ　は　アツかったな。"},{id:24,target_id:24,text:"とうとう　そこに　て　を　だすか。　……かくご　は　できてるんだろうな？"},{id:25,target_id:25,text:"おいおい、　そいつは　うりもの　じゃ……　ちっ、　いいだろう。　おまえ　なら　ゆるしてやる。"},{id:26,target_id:26,text:"こいつの　コピー　は　ホンモノ　いじょう　だ。　マボロシ　に　みせられるなよ。"},{id:27,target_id:27,text:"ＪＶ……。　そいつは　にほん　が　セカイ　に　ケンカ　を　うった　あかし　だ。"},{id:28,target_id:28,text:"ちいさくて　とりまわし　が　いい。　おまえ　の　りくつ　には　あってる　だろうよ。"},{id:29,target_id:29,text:"とり　が　とんでるな。　……いつか　おまえ　も、　もっと　たかく　とべるさ。"},{id:30,target_id:30,text:"こし　を　いわすなよ？　……だが、　その　サスティン　は　えいえん　だ。"},{id:31,target_id:31,text:"ほう、　こいつ　を　えらぶか。　おまえ　も　なかなかの　ヘンクツ　だな。"},{id:32,target_id:32,text:"まるで　うちゅうせん　だ。　こいつで　どこへ　いく　つもりだ？"},{id:33,target_id:33,text:"イギリス　の　かぜ　が　するだろ。　……モッズ　きどり　も　わるくない。"},{id:34,target_id:34,text:"こいつは　ジャジャうま　だぞ。　ナカミ　が　スカスカ　だと　おと　も　スカスカ　になる。"},{id:35,target_id:35,text:"ビザール　か。　……ふん、　ひとの　め　なんざ　きに　するな。　すきに　やれ。"},{id:36,target_id:36,text:"テケテケ　やるのか？　……おやじさん　に　きかせて　やりな。"},{id:37,target_id:37,text:"うた　いたい　のか。　……いい　こえ　だ。　こいつ　なら　とおく　まで　とどくぞ。"},{id:38,target_id:38,text:"……もやすなよ？　ぜったい　に　もやすなよ？"},{id:39,target_id:39,text:"……ああ、　そいつか。　しちながれ　だったが、　ずっと　とっておいたんだ。　おかえり。"},{id:40,target_id:40,text:"とって　が　ついてる　いみ？　……かんがえるな。　かんじるんだ。"},{id:41,target_id:41,text:"ハイエンド　の　せかい　へ　ようこそ。　いいわけ　は　もう　できないぞ。"},{id:42,target_id:42,text:"げんだい　の　カガク　の　けっしょう　だ。　……だが、　あせ　くささ　も　わすれるなよ。"},{id:43,target_id:43,text:"まぜるな　キケン。　だが、　まざりあった　おと　は　キョウレツ　だぞ。"},{id:44,target_id:44,text:"……ほう。　かいぞく　の　たから　でも　みつけた　カオ　を　しやがって。"},{id:45,target_id:45,text:"そいつは　とくべつ　だ。　にほん　の　ロック　の　よあけ　を　しっている。"},{id:46,target_id:46,text:"きんぞく　の　かたまり　だ。　……つめたいか？　いや、　おまえ　の　ネツ　で　あたためろ。"},{id:47,target_id:47,text:"……さわる　まえ　に　て　を　あらえ。　そいつは　びじゅつひん　だ。"},{id:48,target_id:48,text:"１９５４。　……なにも　いうことは　ねえ。　れきし　そのもの　だ。"},{id:49,target_id:49,text:"……おまえ　の　ちちおや　が　いつか　ひきたがっていた　やつだ。　……もっていけ。"},{id:50,target_id:50,text:"……とうとう　そこに　たどりついたか。　もう、　おれ　から　おしえる　こと　は　なにも　ない。"}]},k={dialogue_data:C},I=[{stage:1,location:"じたくのげんかん",quota:500,reward_guitar_id:2,intro_text:"まずは近所のガキを唸らせろ。"},{stage:2,location:"こうえんのベンチ",quota:1e3,reward_guitar_id:3,intro_text:"ハトと老人しかいないが、修行の場だ。"},{stage:3,location:"えきまえロータリー",quota:3e3,reward_guitar_id:4,intro_text:"ライバルが増えてきた。"},{stage:4,location:"ろじうらのバー",quota:5e3,reward_guitar_id:5,intro_text:"酒とタバコの匂い。大人の世界だ。"},{stage:5,location:"がくえんさい",quota:8e3,reward_guitar_id:6,intro_text:"黄色い声援。調子に乗るなよ。"},{stage:6,location:"ライブハウス「G」",quota:12e3,reward_guitar_id:7,intro_text:"初めてのハコだ。照明が眩しい。"},{stage:7,location:"インディーズフェス",quota:16e3,reward_guitar_id:8,intro_text:"野外の風。音が流されるな。"},{stage:8,location:"ラジオのこうかい",quota:2e4,reward_guitar_id:9,intro_text:"電波に乗せろ。魂の叫びを。"},{stage:9,location:"ネットはいしん",quota:25e3,reward_guitar_id:10,intro_text:"顔は見えないが、熱気は伝わる。"},{stage:10,location:"クラブ「JAZZ」",quota:3e4,reward_guitar_id:11,intro_text:"本物の耳を持つ客たちだ。"},{stage:11,location:"しょうぎょうシセツ",quota:4e4,reward_guitar_id:12,intro_text:"買い物客の足を止めろ。"},{stage:12,location:"ビアガーデン",quota:5e4,reward_guitar_id:13,intro_text:"酔っ払いは正直だ。"},{stage:13,location:"けっこんしきじょう",quota:6e4,reward_guitar_id:14,intro_text:"幸せな二人に、祝福のチョーキングを。"},{stage:14,location:"ちほうジュンギョウ",quota:7e4,reward_guitar_id:15,intro_text:"ドサ回り。これも修行だ。"},{stage:15,location:"テレビ局のリハ室",quota:8e4,reward_guitar_id:16,intro_text:"業界の空気は冷たい。"},{stage:16,location:"深夜のバラエティ",quota:9e4,reward_guitar_id:17,intro_text:"笑い声に負けるな。"},{stage:17,location:"ＣＭさつえい",quota:1e5,reward_guitar_id:18,intro_text:"15秒に全てを賭けろ。"},{stage:18,location:"レコーディング",quota:12e4,reward_guitar_id:19,intro_text:"赤いランプが光る。ミスは許されない。"},{stage:19,location:"ミュージックステーション",quota:15e4,reward_guitar_id:20,intro_text:"全国のお茶の間に届くぞ。"},{stage:20,location:"ホールツアー初日",quota:18e4,reward_guitar_id:21,intro_text:"2000人の視線。震えるな。"},{stage:21,location:"ゼップツアー",quota:21e4,reward_guitar_id:22,intro_text:"モッシュの渦。熱気がすごい。"},{stage:22,location:"ヤオン（野音）",quota:24e4,reward_guitar_id:23,intro_text:"都会の空に音を突き刺せ。"},{stage:23,location:"フジロック",quota:27e4,reward_guitar_id:24,intro_text:"山の神に捧げるソロだ。"},{stage:24,location:"サマソニ",quota:3e5,reward_guitar_id:25,intro_text:"海風と轟音。最高の夏だ。"},{stage:25,location:"海外フェス",quota:35e4,reward_guitar_id:26,intro_text:"言葉は通じない。音で語れ。"},{stage:26,location:"ＮＹのクラブ",quota:4e5,reward_guitar_id:27,intro_text:"本場の洗礼。生き残れ。"},{stage:27,location:"ロンドンのパブ",quota:45e4,reward_guitar_id:28,intro_text:"パンクの聖地。暴れろ。"},{stage:28,location:"ニューオリンズ",quota:5e5,reward_guitar_id:29,intro_text:"ジャズの故郷。スウィングしろ。"},{stage:29,location:"メンフィス",quota:55e4,reward_guitar_id:30,intro_text:"ブルースの魂を感じろ。"},{stage:30,location:"ナッシュビル",quota:6e5,reward_guitar_id:31,intro_text:"カントリーの達人たち。"},{stage:31,location:"L.A.のスタジオ",quota:7e5,reward_guitar_id:32,intro_text:"トッププロとのセッション。"},{stage:32,location:"アリーナツアー",quota:8e5,reward_guitar_id:33,intro_text:"1万人の歓声。地鳴りのようだ。"},{stage:33,location:"東京ドーム",quota:1e6,reward_guitar_id:34,intro_text:"夢に見た場所。だが通過点だ。"},{stage:34,location:"ウェンブリー",quota:12e5,reward_guitar_id:35,intro_text:"ロックの殿堂。伝説になれ。"},{stage:35,location:"マディソンスクエア",quota:15e5,reward_guitar_id:36,intro_text:"世界の中心で愛を叫べ。"},{stage:36,location:"宇宙ステーション",quota:18e5,reward_guitar_id:37,intro_text:"無重力ライブ。音が浮いている。"},{stage:37,location:"月面基地",quota:21e5,reward_guitar_id:38,intro_text:"静寂の宇宙に響かせろ。"},{stage:38,location:"カセイのコロニー",quota:24e5,reward_guitar_id:39,intro_text:"赤い大地。未知の客。"},{stage:39,location:"銀河鉄道",quota:27e5,reward_guitar_id:40,intro_text:"星々を巡るツアー。"},{stage:40,location:"ブラックホール",quota:3e6,reward_guitar_id:41,intro_text:"光すら脱出できない重力。"},{stage:41,location:"ジ・エンド・オブ・タイム",quota:35e5,reward_guitar_id:42,intro_text:"時の果て。観客は過去の亡霊。"},{stage:42,location:"次元の狭間",quota:4e6,reward_guitar_id:43,intro_text:"ノイズが混じる。存在を保て。"},{stage:43,location:"神々の宴",quota:45e5,reward_guitar_id:44,intro_text:"オーディンがヘッドバンギングしている。"},{stage:44,location:"天国への階段",quota:5e6,reward_guitar_id:45,intro_text:"昇るにつれて酸素が薄い。"},{stage:45,location:"地獄のハイウェイ",quota:55e5,reward_guitar_id:46,intro_text:"悪魔とのクロスロード対決。"},{stage:46,location:"アカシックレコード",quota:6e6,reward_guitar_id:47,intro_text:"全宇宙の記憶に刻み込め。"},{stage:47,location:"ビッグバン",quota:7e6,reward_guitar_id:48,intro_text:"全ての始まりの場所。"},{stage:48,location:"無の空間",quota:8e6,reward_guitar_id:49,intro_text:"音だけが存在する。"},{stage:49,location:"伝説の武道館",quota:9e6,reward_guitar_id:50,intro_text:"親父が見た景色。超えられるか。"},{stage:50,location:"The Final Session",quota:1e7,reward_guitar_id:null,intro_text:"終わりのない旅の始まり。"}],E={stage_progression:I},q={},p={guitars:S.master_guitar_list,oyaji:k.dialogue_data,stages:E.stage_progression,scenario:q},b=r=>r<=10?{title:"ブルースの泥沼",bpm:100,rhythm:"shuffle",progression:["C7","F7","C7","G7"],desc:"3コード / マイナーペンタ"}:r<=20?{title:"ポップスの誘惑",bpm:120,rhythm:"straight",progression:["C","G","Am","F"],desc:"歌謡曲 / メジャーペンタ切替"}:r<=30?{title:"スタンダードの迷路",bpm:140,rhythm:"swing",progression:["Dm7","G7","Cmaj7","A7"],desc:"II-V-I / ペンタシフト"}:r<=40?{title:"モードの海",bpm:160,rhythm:"even",progression:["Dm7 (Dorian)","Ebm7","Dm7","Cm7"],desc:"So What / アウトサイド"}:r<=49?{title:"高速の終焉",bpm:250,rhythm:"fast-bop",progression:["Bb","G7","Cm7","F7"],desc:"BPM250 / マシンガンペンタ"}:{title:"巨人の足跡 (GIANT STEPS)",bpm:300,rhythm:"chaos",progression:["Bmaj7","D7","Gmaj7","Bb7","Ebmaj7","Am7","D7"],desc:"Giant Steps / カオス理論"};class B{constructor(){this.money=0,this.ownedGuitars=[1],this.currentGuitarId=1,this.currentStageId=1,this.durability=50,this.maxDurability=50,this.guitarDurabilities={},this.listeners=[]}save(){this.guitarDurabilities[this.currentGuitarId]=this.durability;const t={money:this.money,ownedGuitars:this.ownedGuitars,currentGuitarId:this.currentGuitarId,currentStageId:this.currentStageId,durability:this.durability,guitarDurabilities:this.guitarDurabilities};localStorage.setItem("50go_save_data",JSON.stringify(t))}load(){const t=localStorage.getItem("50go_save_data");if(t){const e=JSON.parse(t);this.money=Number.isNaN(Number(e.money))?0:e.money||0,this.ownedGuitars=e.ownedGuitars||[1],this.currentGuitarId=e.currentGuitarId||1,this.currentStageId=e.currentStageId||1,this.guitarDurabilities=e.guitarDurabilities||{};const i=p.guitars.find(s=>s.id===this.currentGuitarId);return this.maxDurability=i?i.durability.max_life:50,e.durability!==void 0?this.durability=e.durability:this.durability=this.maxDurability,this.notifyChange("update",null),!0}return!1}equipGuitar(t){if(!this.ownedGuitars.includes(t))return;this.guitarDurabilities[this.currentGuitarId]=this.durability;const e=p.guitars.find(i=>i.id===t);e&&(this.currentGuitarId=t,this.maxDurability=e.durability.max_life,this.guitarDurabilities[t]!==void 0?this.durability=this.guitarDurabilities[t]:this.durability=this.maxDurability,this.notifyChange("equip",e),this.notifyChange("update",null))}getRepairCost(){const t=this.maxDurability-this.durability;return t<=0?0:Math.floor(t*5)}repairGuitar(){const t=this.getRepairCost();return this.money>=t&&t>0?(this.money-=t,this.durability=this.maxDurability,this.guitarDurabilities[this.currentGuitarId]=this.durability,this.notifyChange("update",null),{success:!0,cost:t}):{success:!1,cost:t}}playAction(t=1){const e=p.guitars.find(g=>g.id===this.currentGuitarId),i=e.skill||{type:"none"},s=b(this.currentStageId);let n=1,o=1,c=0;i.type==="poverty"?(n=i.val1,o=i.val2):i.type==="gamble"?Math.random()<i.prob&&(n=i.mult):i.type==="appeal_up"?c=i.val:i.type==="durability_save"?o=i.val:i.type==="brand_name"?n=i.val||i.mult||1:i.type==="vintage_rot"?(n=i.mult||1.2,o=i.decay||1.5):i.type==="tech_bonus"||i.type==="vintage_bonus"||i.type==="legend_bonus"?n=i.mult||1:i.type==="stage_bonus"?this.currentStageId>=i.min&&this.currentStageId<=i.max&&(n=i.mult):i.type==="speed_bonus"?s.bpm>=i.min_bpm&&(n=i.mult):i.type==="heavy_weight"&&(n=i.mult,o=i.decay);const m=e.durability.decay_rate*t*o*(1+Math.random()*.5);this.durability-=m;const y=e.specs.appeal+c;let h=Math.floor(y*t*500*n);Number.isNaN(h)&&(h=0),this.money+=h,this.durability<=0?(this.durability=0,this.notifyChange("broken",null)):this.notifyChange("update",null)}unlockGuitar(t){if(!this.ownedGuitars.includes(t)){this.ownedGuitars.push(t),this.notifyChange("unlock",t);const e=p.oyaji.conversations.find(i=>i.target_id===t);return e?e.text:"……ふん、もっていけ。"}return null}tryClearStage(){const t=p.stages.find(e=>e.stage===this.currentStageId);if(!t)return{success:!1,msg:"これ以上先はないようだ。"};if(this.money>=t.quota){let e="",i="";t.reward_guitar_id&&(i=this.unlockGuitar(t.reward_guitar_id),e=`
新ギター『${p.guitars.find(o=>o.id===t.reward_guitar_id).model}』を入手した！`),this.currentStageId++;const s=p.stages.find(n=>n.stage===this.currentStageId);return{success:!0,msg:`ステージ ${t.stage} クリア！${e}`,oyajiWords:i,nextStage:s}}else{const e=t.quota-this.money;return{success:!1,msg:`まだ客が満足していない。
あと ${Number.isNaN(e)?"不明":e} G 必要だ。`}}}goPrevStage(){return this.currentStageId>1?(this.currentStageId--,this.notifyChange("update",null),!0):!1}notifyChange(t,e){this.listeners.forEach(i=>i(t,e))}subscribe(t){this.listeners.push(t)}}class G{constructor(){this.audioCtx=null,this.nodes={}}init(){this.audioCtx?this.audioCtx.state==="suspended"&&this.audioCtx.resume():(this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.setupChain(),this.setupStrings())}setupChain(){this.nodes.masterGain=this.audioCtx.createGain(),this.nodes.masterGain.gain.value=.4,this.nodes.drive=this.audioCtx.createWaveShaper(),this.nodes.drive.curve=this.makeDistortionCurve(250),this.nodes.drive.oversample="4x",this.nodes.cabinet=this.audioCtx.createBiquadFilter(),this.nodes.cabinet.type="lowpass",this.nodes.cabinet.frequency.value=3200,this.nodes.drive.connect(this.nodes.cabinet),this.nodes.cabinet.connect(this.nodes.masterGain),this.nodes.masterGain.connect(this.audioCtx.destination)}makeDistortionCurve(t){const e=t,i=44100,s=new Float32Array(i),n=Math.PI/180;for(let o=0;o<i;++o){const c=o*2/i-1;s[o]=(3+e)*c*20*n/(Math.PI+e*Math.abs(c))}return s}setupStrings(){document.querySelectorAll(".string-zone").forEach(t=>{new L(t,this.audioCtx,this.nodes.drive)})}playChord(t,e=1){if(!this.audioCtx)return;const i=this.audioCtx.createGain();i.gain.value=.2,i.connect(this.audioCtx.destination),t.forEach(n=>{const o=this.audioCtx.createOscillator();o.type="triangle",o.frequency.value=n,o.connect(i),o.start(this.audioCtx.currentTime),o.stop(this.audioCtx.currentTime+e)});const s=this.audioCtx.currentTime;i.gain.setValueAtTime(.2,s),i.gain.exponentialRampToValueAtTime(.001,s+e)}}class L{constructor(t,e,i){this.element=t,this.audioCtx=e,this.destNode=i,this.line=t.querySelector(".string-line"),this.marker=t.querySelector(".touch-marker"),this.baseFreq=parseFloat(t.dataset.freq),this.stringIndex=parseInt(t.dataset.idx),this.osc=null,this.gain=null,this.isPlaying=!1,this.startY=0,this.currentFret=-1,this.bindEvents()}bindEvents(){const t=s=>this.inputStart(s),e=s=>this.inputMove(s),i=s=>this.inputEnd(s);this.element.addEventListener("mousedown",t),window.addEventListener("mousemove",e),window.addEventListener("mouseup",i),this.element.addEventListener("touchstart",t,{passive:!1}),window.addEventListener("touchmove",e,{passive:!1}),window.addEventListener("touchend",i)}inputStart(t){if(!this.audioCtx)return;const e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY;this.startY=i,this.isPlaying=!0;const{fret:s,bendCents:n,vibratoCents:o}=this.analyzePosition(e,i);this.currentFret=s,this.playTone(s,n+o),this.marker.style.display="block",this.marker.style.left=e+"px",this.marker.style.top="50%"}inputMove(t){if(!this.isPlaying)return;const e=t.touches?t.touches[0].clientX:t.clientX,i=t.touches?t.touches[0].clientY:t.clientY,{fret:s,bendCents:n,vibratoCents:o,visualBendY:c}=this.analyzePosition(e,i);if(this.osc){if(this.currentFret!==s){const m=this.baseFreq*Math.pow(2,s/12);this.osc.frequency.setValueAtTime(m,this.audioCtx.currentTime),this.currentFret=s}this.osc.detune.setValueAtTime(n+o,this.audioCtx.currentTime)}this.marker.style.left=e+"px",this.line.style.transform=`translateY(${c}px)`}inputEnd(){this.isPlaying=!1,this.stopSound(),this.marker.style.display="none",this.line.style.transform="translateY(0)"}analyzePosition(t,e){const i=this.element.getBoundingClientRect(),s=document.getElementById("nut-area"),n=s?s.getBoundingClientRect().width:50,o=t-i.left;let c=0,m=0;if(o>n){const x=(i.width-n)/12,w=o-n;c=Math.ceil(w/x),c>12&&(c=12),c<1&&(c=1),m=(w%x/x-.5)*30}let y=0,h=0;if(c>0){const g=e-this.startY;this.stringIndex<=2?g>0&&(y=Math.min(g*3,300),h=g):g<0&&(y=Math.min(Math.abs(g)*3,300),h=g)}return{fret:c,bendCents:y,vibratoCents:m,visualBendY:h}}playTone(t,e){this.osc&&this.stopSound();const i=this.baseFreq*Math.pow(2,t/12);this.osc=this.audioCtx.createOscillator(),this.gain=this.audioCtx.createGain(),this.osc.type="sawtooth",this.osc.frequency.value=i,this.osc.detune.value=e,this.osc.connect(this.gain),this.gain.connect(this.destNode),this.osc.start(),this.gain.gain.setValueAtTime(0,this.audioCtx.currentTime),this.gain.gain.linearRampToValueAtTime(1,this.audioCtx.currentTime+.01)}stopSound(){if(this.osc){const t=this.audioCtx.currentTime;this.gain.gain.cancelScheduledValues(t),this.gain.gain.setValueAtTime(this.gain.gain.value,t),this.gain.gain.exponentialRampToValueAtTime(.001,t+.1),this.osc.stop(t+.1),this.osc=null}}}const D={C:[261.63,329.63,392],D:[293.66,369.99,440],E:[329.63,415.3,493.88],F:[349.23,440,523.25],G:[392,493.88,587.33],A:[440,554.37,659.25],B:[493.88,622.25,739.99],Bb:[466.16,587.33,698.46],Eb:[311.13,392,466.16],Am:[220,261.63,329.63],Dm:[293.66,349.23,440],Em:[329.63,392,493.88],Gm:[392,466.16,587.33],Cm:[261.63,311.13,392],Bm:[493.88,587.33,739.99],C7:[261.63,329.63,392,466.16],G7:[392,493.88,587.33,698.46],D7:[293.66,369.99,440,523.25],A7:[440,554.37,659.25,783.99],E7:[329.63,415.3,493.88,587.33],F7:[349.23,440,523.25,622.25],Bb7:[233.08,293.66,349.23,415.3],Cmaj7:[261.63,329.63,392,493.88],Fmaj7:[349.23,440,523.25,659.25],Gmaj7:[392,493.88,587.33,739.99],Ebmaj7:[311.13,392,466.16,587.33],Bmaj7:[493.88,622.25,739.99,932.33],Dm7:[293.66,349.23,440,523.25],Gm7:[392,466.16,587.33,698.46],Am7:[220,261.63,329.63,392],Cm7:[261.63,311.13,392,466.16],Em7:[329.63,392,493.88,587.33],Ebm7:[311.13,369.99,466.16,554.37]};class A{constructor(t,e){this.ctx=t,this.synth=e,this.isPlaying=!1,this.currentStyle={bpm:100,progression:["C7"],title:"Blues"},this.nextNoteTime=0,this.timerID=null,this.beatCount=0,this.measureCount=0,this.currentChord="",this.isTastyWindow=!1,this.listeners=[]}setStyle(t){this.currentStyle=t}start(){this.isPlaying||(this.ctx.state==="suspended"&&this.ctx.resume(),this.isPlaying=!0,this.beatCount=0,this.measureCount=0,this.nextNoteTime=this.ctx.currentTime+.1,this.scheduler())}stop(){this.isPlaying=!1,clearTimeout(this.timerID),this.notify("chord","-")}scheduler(){for(;this.nextNoteTime<this.ctx.currentTime+.1;)this.scheduleNote(this.beatCount,this.nextNoteTime),this.nextStep();this.isPlaying&&(this.timerID=setTimeout(()=>this.scheduler(),25))}nextStep(){const t=60/this.currentStyle.bpm;this.nextNoteTime+=t,this.beatCount++,this.beatCount%4===0&&this.measureCount++}scheduleNote(t,e){const i=t%4;if(i===0){const c=this.currentStyle.progression,m=c[this.measureCount%c.length];this.currentChord=m;const y=m.split(" ")[0],h=D[y]||[261.63,329.63,392];this.synth.playChord(h,2);const g=(e-this.ctx.currentTime)*1e3;setTimeout(()=>{this.notify("chord",this.currentChord)},g)}const s=this.ctx.createOscillator(),n=this.ctx.createGain();s.connect(n),n.connect(this.ctx.destination),i===0||i===2?(s.frequency.setValueAtTime(150,e),s.frequency.exponentialRampToValueAtTime(.01,e+.4),n.gain.setValueAtTime(.8,e),n.gain.exponentialRampToValueAtTime(.01,e+.4)):(s.type="triangle",s.frequency.setValueAtTime(100,e),s.frequency.linearRampToValueAtTime(800,e+.1),n.gain.setValueAtTime(.6,e),n.gain.exponentialRampToValueAtTime(.01,e+.2),this.triggerBonusWindow(e)),s.start(e),s.stop(e+.1);const o=(e-this.ctx.currentTime)*1e3;setTimeout(()=>{this.notify("beat",i)},o)}triggerBonusWindow(t){const e=Math.max(50,150-this.currentStyle.bpm/2),i=(t-this.ctx.currentTime)*1e3;setTimeout(()=>{this.isTastyWindow=!0},i-e),setTimeout(()=>{this.isTastyWindow=!1},i+e)}checkTiming(t){return this.isPlaying&&this.isTastyWindow?t?"TASTY":"GROOVE":null}subscribe(t){this.listeners.push(t)}notify(t,e){this.listeners.forEach(i=>i(t,e))}}const M={1:["まずは　きんじょ　の　がきんちょ　を　うならせて　みろ。","チューニング　は　あったか？　きほん　が　だいじ　だぞ。","ゆび　が　いたい　だと？　かわ　が　むけてからが　ほんばん　だ。","おまえ　の　おと　は　まだ　かたい。　リラックス　しろ。","へたくそ　な　うちは　おと　を　だす　こと　に　ビビる　もんだ。"],2:["ハト　と　ろうじん　しか　いないが、　ここが　しゅぎょう　の　ば　だ。","コード　チェンジ　で　もたつく　なよ。","げん　が　さびて　きたな。　ふいて　やれ。","リズム　を　からだ　で　きざめ。　あたま　で　かんがえるな。","こうえん　の　ベンチ　が　おまえ　の　ステージ　だ。"],3:["ライバル　が　ふえてきた。　おと　の　デカさ　で　まけるな。","ピック　の　もちかた　を　かえたか？　いろいろ　ためして　みろ。","そろそろ　チョーキング　が　サマに　なって　きたな。","つうこうにん　が　あし　を　とめたぞ。　チャンス　だ。","ストリート　じゃ　どきょう　が　モノ　を　いう。"],4:["さけ　と　タバコ　の　におい。　おとな　の　セカイ　だ。","ボトルネック　を　つかう　のも　悪くない。","ブルース　は　かなしみ　じゃ　ない。　わらいとばす　オンガク　だ。","客　の　グラス　が　あいた　しゅんかん　を　ねらえ。","ここじゃ　ミス　を　しても　あじ　に　なる。"],5:["きいろい　せいえん。　ちょうし　に　のるなよ？","ガクエンサイ　か。　わかい　ってのは　それだけで　ブキ　だ。","ボリューム　を　あげろ。　もっと　めだっても　いい。","ミス　を　こわがるな。　パッション　で　ごまかせ。","おまえ　の　ファン　が　ひとり　できた　みたいだぞ。"],6:["はじめて　の　ハコ　だ。　しょうめい　に　め　が　くらむなよ？","ＰＡ（オンキョウ）　さん　への　あいさつ　は　すませたか？","モニター　の　おと　を　よく　きけ。　はしるなよ。","ライブハウス　の　くうき　は　どうだ？　サイコー　だろ。","タイバン　に　ビビるな。　おまえ　が　いちばん　だ。"],7:["やがい　の　かぜ。　おと　が　ながされるな。","ノイズ　たいさく　は　ばんぜん　か？","そら　に　むかって　ひく　かんかく　を　おぼえろ。","あめ　が　ふってきたな。　きざい　を　ぬらすなよ。","フェス　の　メシ　は　うまいか？　くって　スタミナ　つけろ。"],8:["でんぱ　に　のせろ。　タマシイ　の　さけび　を。","ラジオ　は　こえ　だけ　じゃ　ない。　ギター　も　しゃべるんだ。","ブース　の　なか　は　せまい　が　セカイ　は　ひろい。","リクエスト　が　きたぞ。　こたえて　やれ。","マイク　の　いち　を　きにしろ。　いい　おと　で　とどけろ。"],9:["かお　は　みえない　が、　ねっき　は　つたわる。","コメント　が　あれてるな。　ゆうめい　に　なった　しょうこ　だ。","はいしん　きざい　の　トラブル　か？　あわてるな。","スパチャ　が　とんだぞ。　ありがとう　は　おと　で　かえせ。","ネット　の　うみ　は　ひろい。　どこまでも　いける。"],10:["ほんもの　の　みみ　を　もつ　きゃくたち　だ。","ジャズ　の　マナー　なんて　きにするな。　おまえ　らしく　やれ。","４ビート　に　のれ。　うら　を　かんじろ。","おとな　の　よゆう　を　みせつけろ。","ここ　を　クリア　すれば　ひとかわ　むけるぞ。"],11:["かいものきゃく　の　あし　を　とめろ。","ＢＧＭ　に　なるな。　シュヤク　は　おまえ　だ。","ポップ　な　フレーズ　で　こころ　を　つかめ。","こども　が　みてるぞ。　かっこいい　とこ　みせろ。","ショーウィンドウ　に　うつる　じぶん　を　みてみな。"],12:["よっぱらい　は　しょうじき　だ。","ビール　の　あて　に　なる　えんそう　を　しろ。","トラブル　も　エンタメ　に　かえろ。","あつい　よる　だ。　さらに　あつく　してやれ。","ジョッキ　の　おと　に　まけるな。"],13:["しあわせ　な　ふたり　に、　しゅくふく　の　チョーキング　を。","バラード　は　なかせ　どころ　だ。　しんちょう　に　ひけ。","スピーチ　の　ジャマ　は　するなよ？","しんろう　より　めだつ　んじゃ　ないぞ。","愛　を　かたる　のに　ことば　は　いらない。"],14:["ドサまわり。　これも　しゅぎょう　だ。","いどう　で　つかれたか？　ステージ　に　たてば　わすれるさ。","じもと　の　めいぶつ　でも　くって　げんき　だせ。","どんな　ばしょ　でも　サイコー　の　ライブ　を　するんだ。","おまえ　を　まってる　ヤツ　が　いる。"],15:["ぎょうかい　の　くうき　は　つめたい。","プロデューサー　の　顔色　なんて　うかがうな。","リハ　どうり　に　やる　ひつよう　は　ない。","カメラ　を　いしき　するな。　おと　に　しゅうちゅう　しろ。","テレビ　なんて　はこにわ　だ。　あばれて　やれ。"],16:["わらいごえ　に　まけるな。","バラエティ　だからって　て　を　ぬくな。","芸人　の　ツッコミ　より　するどい　カッティング　を。","しんや　の　テンション　で　いくぞ。","おまえ　は　ピエロ　じゃ　ない。　ロックスター　だ。"],17:["１５びょう　に　すべて　を　かけろ。","キャッチー　な　リフ　が　ひつよう　だ。","ＮＧ　を　だすなよ。　フィルム　は　たかいんだ。","クライアント　を　うならせて　みろ。","いっしゅん　の　かがやき　を　のがすな。"],18:["あかい　ランプ　が　ひかる。　ミス　は　ゆるされない。","クリック　を　よく　きけ。　リズム　は　ともだち　だ。","テイク１　の　きせき　を　しんじろ。","エンジニア　が　くび　を　ふってる。　いい　ちょうし　だ。","レコーディング　は　じぶん　との　たたかい　だ。"],19:["ぜんこく　の　おちゃのま　に　とどくぞ。","タモリさん　に　よろしくな。","なまほうそう　だ。　やりなおし　は　きかない。","カメラめせん　を　わすれるな。","おまえ　の　な　が　しれわたる　とき　だ。"],20:["２０００にん　の　しせん。　ふるえるな。","ホール　の　ひびき　を　みかた　に　つけろ。","２かいせき　まで　とどく　おと　を　だせ。","チケット　は　かんばい　だ。　きたい　に　こたえろ。","ここから　ほんとう　の　プロ　の　セカイ　だ。"],21:["モッシュ　の　うず。　ねっき　が　すごい。","ダイブ　したくなる　きもち　は　わかるが　ひけ。","アンプ　の　メモリ　を　フル　に　しろ。","あせ　で　ギター　が　すべるな。　きをつけろ。","ゼップ　を　ゆらせ。　じしん　かと　おもわせろ。"],22:["とかい　の　そら　に　おと　を　つきさせ。","ビル　の　あかり　が　きれいだな。","ヤオン　の　でんせつ　を　ぬりかえろ。","かぜ　が　きもちいい。　おと　も　のってる。","けいさつ　が　くる　まで　やめんなよ。"],23:["やま　の　かみ　に　ささげる　ソロ　だ。","雨　こそ　フジロック　だ。　ぬれて　いこう。","グリーンステージ　への　みち　は　とおい。","テント　で　ねるのも　悪くない。","しぜん　と　いったい　に　なれ。"],24:["うみかぜ　と　ごうおん。　さいこう　の　なつ　だ。","マリンスタジアム　は　でかいぞ。","かいがい　の　オオモノ　に　まけるな。","みず　を　のめ。　たおれるなよ。","サマソニ　の　しゅやく　は　おまえ　だ。"],25:["ことば　は　つうじない。　おと　で　かたれ。","アウェイ　こそ　もえる　テンカイ　だ。","パスポート　は　もったか？","ガイジン　の　ノリ　は　ちがうな。","ジャパン　の　ソウル　を　みせつけろ。"],26:["ほんば　の　せんれい。　いきのこえ。","ＮＹ　の　よる　は　ねむらない。","タクシー　の　クラクション　より　デカイ　おと　を。","ジャズ　の　きょじん　たち　が　みてるぞ。","ビッグアップル　を　かじりつけ。"],27:["パンク　の　せいち。　あばれろ。","ロンドン　の　あめ　は　つめたいが　ハート　は　あつい。","アンプ　を　けとばせ。　それが　スタイル　だ。","ビール　が　ぬるい？　それが　イギリス　だ。","女王陛下　も　おどらせて　みろ。"],28:["ジャズ　の　こきょう。　スウィング　しろ。","ガンボ　スープ　みたいに　ごちゃまぜ　に　しろ。","セカンドライン　の　リズム　を　かんじろ。","ミシシッピ川　の　ながれ　の　ように。","ここでは　だれもが　ミュージシャン　だ。"],29:["ブルース　の　たましい　を　かんじろ。","クロスロード　で　あくま　に　あったか？","BBキング　の　ように　うたえ。","かなしみ　を　おと　に　かえるんだ。","ソウル　フード　を　くって　グルーヴ　しろ。"],30:["カントリー　の　たつじん　たち。","テレキャス　の　きれあじ　で　しょうぶ　だ。","チキンピッキング　は　できるか？","カウボーイハット　が　にあってるぞ。","ナッシュビル　の　おと　は　かわいた　おと　だ。"],31:["トッププロ　との　セッション。","ハリウッド　の　かぜ　が　ふいてる。","セレブ　たちが　おまえ　を　みている。","リムジン　での　いどう　は　なれたか？","ここでは　ゆめ　が　ゲンジツ　に　なる。"],32:["１まんにん　の　かんせい。　じなり　の　ようだ。","アリーナ　の　はしまで　とどく　おと　を。","レーザーこうせん　より　はやく。","おまえ　の　なまえ　を　よぶ　こえ　が　きこえるか？","ここでは　おまえ　が　ルール　だ。"],33:["ゆめ　に　みた　ばしょ。　だが　つうかてん　だ。","東京ドーム　の　てんじょう　は　たかい。","５まんにん　の　ウェーブ　を　おこせ。","ベースボール　じゃ　ない。　ロック　を　やるんだ。","ここまできたな。　だが　まだ　さき　が　ある。"],34:["ロック　の　でんどう。　でんせつ　に　なれ。","フレディ　が　みた　けしき　だ。","ウェンブリー　の　ゴースト　が　ささやいている。","イギリスじゅう　が　おまえ　を　ちゅうもく　している。","レジェンド　たち　と　かた　を　ならべろ。"],35:["せかい　の　ちゅうしん　で　あい　を　さけべ。","MSG。　３もじ　の　おもみ　を　かんじろ。","ニューヨーク　を　だまらせて　みろ。","ここでは　サイコー　か　サイテー　か　しか　ない。","歴史　に　な　を　きざめ。"],36:["むじゅうりょく　ライブ。　おと　が　ういている。","うちゅうふく　で　ギター　は　ひきにくいか？","ちきゅう　が　あんなに　ちいさい。","しんくう　でも　おと　は　つたわる。　ココロ　でな。","うちゅう　レベル　の　プレイ　を　みせろ。"],37:["せいじゃく　の　うちゅう　に　ひびかせろ。","ウサギ　が　きいている　かも　しれない。","クレーター　を　ステージ　に　しろ。","じゅうりょく　が　ろくぶんのいち。　ジャンプ　しろ。","つき　の　うらがわ　まで　とどけろ。"],38:["あかい　だいち。　みち　の　きゃく。","カセイ人　も　ロック　が　すき　らしい。","テラフォーミング　より　さきに　ロック　しろ。","すなあらし　に　まけるな。","ここじゃ　おまえ　が　エイリアン　だ。"],39:["ほしぼし　を　めぐる　ツアー。","ぎんがてつどう　の　きてき　と　ハモれ。","アンドロメダ　まで　いこうか。","ながれぼし　に　ねがい　を　こめて　ピッキング。","しゃしょう　さん　も　ノリノリ　だ。"],40:["ひかり　すら　だっしゅつ　できない　じゅうりょく。","じかん　が　ゆがんでいる。　リズム　を　たもて。","イベントホライズン　を　こえろ。","やみ　の　なか　で　おまえ　の　おと　だけが　ひかり　だ。","吸い込まれるな。　ひきかえせ。"],41:["とき　の　はて。　かんきゃく　は　かこ　の　ぼうれい。","みらい　も　かこ　も　ここには　ない。","えいえん　を　かなでろ。","おわり　は　はじまり　だ。","ラスト　ステージ　には　まだ　はやい。"],42:["ノイズ　が　まじる。　そんざい　を　たもて。","ジゲン　の　はざま　で　ソロ　を　ひく　ヤツ　は　おまえ　ぐらいだ。","パラレルワールド　の　おまえ　と　セッション　しろ。","ここじゃ　じょうしき　は　つうじない。","ゲンジツ　に　もどれなく　なるぞ。"],43:["オーディン　が　ヘッドバンギング　している。","カミサマ　たち　も　タイクツ　だった　みたいだ。","ネクタル　より　うまい　おと　を　だせ。","ヴァルハラ　の　えいゆう　たち　に　まけるな。","シンワ　に　なる　つもりか？"],44:["のぼる　につれて　さんそ　が　うすい。","天国　への　かいだん　は　ながいな。","エンジェル　たち　の　コーラス　が　きこえる。","ここは　まだ　ゴール　じゃ　ない。","くも　の　うえ　で　ディストーション　を　ふめ。"],45:["あくま　との　クロスロード　たいけつ。","たましい　を　かける　かち　は　あるか？","じごく　の　ごうか　より　あつい　プレイ　を。","サタン　も　ギター　が　うまい　らしい。","かえりみち　は　ないぞ。"],46:["ぜんうちゅう　の　きおく　に　きざみこめ。","アカシックレコード　に　おまえ　の　な　は　あるか？","かこ　げんざい　みらい　すべて　の　おと　が　ここ　に　ある。","ちしき　じゃ　ない。　かんかく　で　ひけ。","うちゅう　の　しんり　は　ペンタトニック　だ。"],47:["すべて　の　はじまり　の　ばしょ。","ビッグバン　の　ばくおん　に　かてるか？","む　から　ゆう　を　うみだせ。","ほし　が　うまれる　しゅんかん　を　BGM　に　しろ。","おまえ　が　あらたな　うちゅう　を　つくるんだ。"],48:["おと　だけが　そんざい　する。","じぶん　の　こどう　すら　うるさい。","ここには　なにもない。　だから　なんでも　できる。","かんぜん　な　じゆう。　かんぜん　な　こどく。","おまえ　の　おと　で　くうかん　を　みたせ。"],49:["おやじ　が　みた　ケシキ。　こえられるか。","ここは　ゴール　であり　スタート　だ。","でんせつ　の　ブドウカン。　やはり　さいご　は　ここか。","にほん　の　ロック　の　せいち。　はずかしくない　プレイ　を。","タマネギ　の　した　で　ないて　やれ。"],50:["おわりのない　たび　の　はじまり。","Giant Steps... 巨人の足跡か。　おまえ　も　きょじん　に　なったな。","おまえ　の　おと　は　もう　だれにも　とめられない。","いけ。　おと　の　むこうがわ　へ。","……いい　おと　だ。　ほんとう　に、　いい　おと　だ。"]},v={talks:M},l=new B,f=new G;let u=null;const a={introOverlay:document.getElementById("intro-overlay"),msgText:document.getElementById("message-text"),speaker:document.getElementById("speaker-name"),lv:document.getElementById("player-lv"),stageLoc:document.getElementById("stage-location"),money:document.getElementById("player-money"),guitarName:document.getElementById("guitar-name"),lifeVal:document.getElementById("life-val"),maxLife:document.getElementById("max-life-val"),lifeBar:document.getElementById("life-bar"),btnPlayMode:document.getElementById("btn-play-mode"),btnShop:document.getElementById("btn-shop"),btnGuitarList:document.getElementById("btn-guitar-list"),btnRepair:document.getElementById("btn-repair"),btnNext:document.getElementById("btn-next"),btnPrev:document.getElementById("btn-prev"),btnSave:document.getElementById("btn-save"),btnHelp:document.getElementById("btn-help"),btnStopPlay:document.getElementById("btn-stop-play"),fretboard:document.getElementById("fretboard-overlay"),fretsArea:document.getElementById("frets-area"),grooveLamp:document.getElementById("groove-lamp"),bonusText:document.getElementById("bonus-display"),styleTitle:document.getElementById("style-title"),currentChord:document.getElementById("current-chord"),guitarListOverlay:document.getElementById("guitar-list-overlay"),ownedList:document.getElementById("owned-list"),btnCloseList:document.getElementById("btn-close-list"),specName:document.getElementById("spec-name"),specAppeal:document.getElementById("spec-appeal"),specWeight:document.getElementById("spec-weight"),specLife:document.getElementById("spec-life"),specDesc:document.getElementById("spec-desc"),btnEquip:document.getElementById("btn-equip"),rewardOverlay:document.getElementById("reward-overlay"),rewardName:document.getElementById("reward-guitar-name"),rewardMsg:document.getElementById("reward-oyaji-msg"),btnCloseReward:document.getElementById("btn-close-reward"),repairOverlay:document.getElementById("repair-overlay"),repairCost:document.getElementById("repair-cost"),btnDoRepair:document.getElementById("btn-do-repair"),btnCancelRepair:document.getElementById("btn-cancel-repair"),helpOverlay:document.getElementById("help-overlay"),btnCloseHelp:document.getElementById("btn-close-help"),btnDeleteData:document.getElementById("btn-delete-data")};function P(){a.introOverlay?a.introOverlay.onclick=()=>{if(a.introOverlay.style.opacity=0,setTimeout(()=>{a.introOverlay.classList.add("hidden")},500),f.init(),l.load())d("システム","旅の記録を　読み込みました。");else{l.equipGuitar(1);const r=p.oyaji.conversations.find(t=>t.target_id===1);d("おやじ",r?r.text:"……ふん。")}_()}:(l.load()?d("システム","旅の記録を　読み込みました。"):l.equipGuitar(1),_()),V(),O()}function _(){const r=p.guitars.find(i=>i.id===l.currentGuitarId),t=p.stages.find(i=>i.stage===l.currentStageId);a.lv.innerText=l.currentStageId,t&&a.stageLoc&&(a.stageLoc.innerText=`(${t.location})`),a.money.innerText=l.money,a.guitarName.innerText=r?r.model:"-",a.lifeVal.innerText=Math.floor(l.durability),a.maxLife.innerText=l.maxDurability;const e=l.durability/l.maxDurability*100;a.lifeBar.style.width=e+"%",a.lifeBar.style.backgroundColor=e<20?"#ff4444":"#00ff00"}function d(r,t){a.speaker.innerText=r,a.msgText.innerText=t}function N(r,t){a.rewardName.innerText=r,a.rewardMsg.innerText=t,a.rewardOverlay.classList.remove("hidden")}function R(r){a.bonusText.innerText=r+"!!",a.bonusText.className="bonus-text show "+r.toLowerCase(),setTimeout(()=>{a.bonusText.className="bonus-text"},500),r==="TASTY"&&(a.fretboard.style.backgroundColor="#554433",setTimeout(()=>a.fretboard.style.backgroundColor="#3e2723",100))}function O(){a.btnSave&&(a.btnSave.onclick=()=>{l.save();const e=a.btnSave.innerText;a.btnSave.innerText="記録完了！",setTimeout(()=>{a.btnSave.innerText=e},2e3),d("システム","旅の記録を　保存した。")}),a.btnHelp&&(a.btnHelp.onclick=()=>{a.helpOverlay.classList.remove("hidden")}),a.btnCloseHelp&&(a.btnCloseHelp.onclick=()=>{a.helpOverlay.classList.add("hidden")}),a.btnDeleteData&&(a.btnDeleteData.onclick=()=>{confirm(`本当にデータを消去して、最初からやり直しますか？
（この操作は取り消せません）`)&&(localStorage.removeItem("50go_save_data"),location.reload())}),a.btnPlayMode&&(a.btnPlayMode.onclick=()=>{if(l.durability<=0){d("システム",`弦が切れている！
修理してから出直せ。`);return}a.fretboard.classList.remove("hidden"),f.init(),u||(u=new A(f.audioCtx,f),u.subscribe((i,s)=>{i==="beat"?(s===1||s===3)&&(a.grooveLamp.classList.add("active"),setTimeout(()=>a.grooveLamp.classList.remove("active"),100)):i==="chord"&&a.currentChord&&(a.currentChord.innerText=s)}));const e=b(l.currentStageId);u.setStyle(e),a.styleTitle&&(a.styleTitle.innerText=`${e.title} (BPM:${e.bpm})`),u.start(),d("システム",`${e.desc}
スネア(2拍4拍)に　あわせて　ひけ！`)}),a.btnStopPlay&&(a.btnStopPlay.onclick=()=>{a.fretboard.classList.add("hidden"),u&&u.stop(),l.playAction(.5),_()}),a.fretboard.addEventListener("mousedown",()=>t(!1)),a.fretboard.addEventListener("touchstart",()=>t(!1));let r=!1;a.fretboard.addEventListener("mousemove",()=>{r=!0}),a.fretboard.addEventListener("mouseup",()=>{r&&t(!0),r=!1});function t(e){if(!u||!u.isPlaying)return;const i=u.checkTiming(e);if(i){let s=0;i==="TASTY"?(s=100,l.money+=s):(s=20,l.money+=s),R(i),_()}}a.btnShop&&(a.btnShop.onclick=()=>{const e=l.currentStageId,i=v.talks[String(e)]||v.talks[1],s=i[Math.floor(Math.random()*i.length)];d("おやじ",s)}),a.btnRepair&&(a.btnRepair.onclick=()=>{const e=l.getRepairCost();a.repairCost.innerText=e,e===0?d("おやじ","修理？　まだピカピカじゃねえか。"):a.repairOverlay.classList.remove("hidden")}),a.btnDoRepair&&(a.btnDoRepair.onclick=()=>{const e=l.getRepairCost();if(l.money<e){a.repairOverlay.classList.add("hidden"),d("おやじ","おいおい、　金が足りねえぞ。");return}l.repairGuitar().success&&(a.repairOverlay.classList.add("hidden"),d("おやじ","ほらよ、元通りだ。"))}),a.btnCancelRepair&&(a.btnCancelRepair.onclick=()=>{a.repairOverlay.classList.add("hidden"),d("おやじ","なんだ、冷やかしか。")}),a.btnGuitarList&&(a.btnGuitarList.onclick=()=>{F(),a.guitarListOverlay.classList.remove("hidden")}),a.btnCloseList&&(a.btnCloseList.onclick=()=>a.guitarListOverlay.classList.add("hidden")),a.btnEquip&&(a.btnEquip.onclick=()=>{const e=parseInt(a.btnEquip.dataset.id);l.equipGuitar(e),a.guitarListOverlay.classList.add("hidden"),d("システム","ギターを　もちかえた。")}),a.btnPrev&&(a.btnPrev.onclick=()=>{if(l.goPrevStage()){_();const e=b(l.currentStageId);u&&u.setStyle(e),a.styleTitle&&(a.styleTitle.innerText=`${e.title} (BPM:${e.bpm})`),d("システム",`ステージ ${l.currentStageId} に　もどった。`)}else d("システム","これいじょう　もこれない。")}),a.btnNext&&(a.btnNext.onclick=()=>{const e=l.tryClearStage();if(e.success){_();const i=b(l.currentStageId);if(u&&u.setStyle(i),a.styleTitle&&(a.styleTitle.innerText=`${i.title} (BPM:${i.bpm})`),d("システム",e.msg),e.oyajiWords){const s=l.ownedGuitars[l.ownedGuitars.length-1],n=p.guitars.find(o=>o.id===s);setTimeout(()=>N(n.model,e.oyajiWords),1e3)}e.nextStage&&setTimeout(()=>d("システム",`【STAGE ${e.nextStage.stage}】へ移動した。
目標: ${e.nextStage.quota} G`),e.oyajiWords?1500:2500)}else d("おやじ",e.msg)}),a.btnCloseReward&&(a.btnCloseReward.onclick=()=>{a.rewardOverlay.classList.add("hidden"),d("システム","新しいギターを　手に入れた！")})}function F(){a.ownedList.innerHTML="",l.ownedGuitars.forEach(r=>{const t=p.guitars.find(i=>i.id===r),e=document.createElement("li");e.innerText=t.model,e.className=r===l.currentGuitarId?"current-equip":"",e.onclick=()=>{a.specName.innerText=t.model,a.specAppeal.innerText=t.specs.appeal,a.specWeight.innerText=t.specs.weight;const i=`参考価格: ${t.price.toLocaleString()} G

`;a.specDesc.innerText=i+t.durability.desc,a.specLife.innerText=t.durability.max_life,a.btnEquip.disabled=!1,a.btnEquip.dataset.id=r,document.querySelectorAll(".selectable-list li").forEach(s=>s.classList.remove("selected")),e.classList.add("selected")},a.ownedList.appendChild(e)})}function V(){a.fretsArea.innerHTML="";const r=[3,5,7,9,12];for(let t=1;t<=12;t++){const e=document.createElement("div");e.className="fret-cell",r.includes(t)&&(e.innerHTML=t===12?'<div class="double-dot"><div class="dot"></div><div class="dot"></div></div>':'<div class="dot"></div>'),a.fretsArea.appendChild(e)}}l.subscribe((r,t)=>{if(r==="broken"){a.fretboard.classList.add("hidden"),u&&u.stop();const e=p.scenario.dialogue_data.conversations[0].text;d("おやじ",e+`
(GAME OVER - 修理して出直せ)`)}_()});P();
